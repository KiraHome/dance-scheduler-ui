<app-login *ngIf="!isLoggedInAdmin()"></app-login>

<div class="main-page" *ngIf="isLoggedInAdmin()">

  <div class="header-line row">
    <div class="col-10">
      <button class="btn btn-primary logoutButton" (click)="logout()">Logout</button>
    </div>
    <div class="col-2">
      <div class="balet-woman"></div>
    </div>
  </div>

  <!--TABS-->
  <div class="row content">
    <div class="tab-pane col-2">
      <button class="menu-item btn btn-light-blue col-12" (click)="showTimeTable()">Órarend</button>
      <button class="menu-item btn btn-light-blue col-12" (click)="showPersonalClasses()">Különórák</button>
      <button class="menu-item btn btn-light-blue col-12" (click)="showPayments()">Befizetések</button>
      <div class="col-12" style="min-height: 500px"></div>
    </div>

    <!--CONTENT-->
    <div class="tab-content col-10">
      <div class="time-table" *ngIf="isShowTimeTable">
        <b>Heti Orarend</b>
        <div *ngIf="calendarOptionsTimeTable">
          <ng-fullcalendar id="time-table-calendar" #ucCalendarTimeTable [options]="calendarOptionsTimeTable"
                           [(eventsModel)]="eventsTimeTable"></ng-fullcalendar>
        </div>
      </div>

      <div class="personal-classes" *ngIf="isShowPersonalClasses">
        <b>Kulonora beosztas</b>
        <div *ngIf="calendarOptionsTimeTable"></div>
        <ng-fullcalendar id="time-personal-calendar" #ucCalendarPersonal [options]="calendarOptionsPersonal"
                         [(eventsModel)]="eventsPersonal"></ng-fullcalendar>
        <button class="btn btn-primary logoutButton" (click)="addEvent(content)">Különóra Hozzáadása</button>
        <button class="btn btn-primary logoutButton" (click)="removeEvent()">Különóra Lemondása</button>
      </div>

      <div class="payment-content" *ngIf="isShowPayments">
        <table class="table table-striped">
          <thead class="thead-dark">
          <tr>
            <th>#</th>
            <th>Név</th>
            <th *ngFor=" let date of dates">
              {{date}}
            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let payed of paymentTable; index as i">
            <th scope="row">{{i + 1}}</th>
            <td *ngFor="let d of payed">
              <img *ngIf="d === true" src="../assets/checkmark.svg" class="payment-status">
              <img *ngIf="!d" src="../assets/black_x.svg" class="payment-status">
              <i *ngIf="d !== true && d !== false">{{d}}</i>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!--MODAL template-->
<div>
  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body row">
      <div class="col-7 time-picker">
        <ngb-timepicker [minuteStep]="15" [(ngModel)]="time"></ngb-timepicker>
      </div>
      <div class="col-3 day-picker">
        <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="day">
          <label ngbButtonLabel class="btn-primary">
            <input ngbButton type="radio" [value]="1"> Hétfő
          </label>
          <label ngbButtonLabel class="btn-primary">
            <input ngbButton type="radio" [value]="2"> Kedd
          </label>
          <label ngbButtonLabel class="btn-primary">
            <input ngbButton type="radio" [value]="3"> Szerda
          </label>
          <label ngbButtonLabel class="btn-primary">
            <input ngbButton type="radio" [value]="4"> Csütörtök
          </label>
          <label ngbButtonLabel class="btn-primary">
            <input ngbButton type="radio" [value]="5"> Péntek
          </label>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close(dp)">Save</button>
    </div>
  </ng-template>
</div>
